{% extends 'base.html' %}

{% import 'components/table_component.html' as table %}
{% import 'components/header_with_button.html' as header %}
{% import 'admin/event_cards.html' as event_card %}
{% import 'components/userauthcard.html' as user_auth_card %}
{% import 'admin/header_bar.html' as admin_header %}

{% block title %}Event Details{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/common.css') }}">
{% endblock %}

{% block header %}
{{ admin_header.header() }}
{% endblock %}

{% block content %}
<h2>Event Details: {{ event.Name }}</h2>

<!-- Display event details -->
<ul>
    <li><strong>Event Name:</strong> {{ event.Name }}</li>
    <li><strong>Event Type:</strong> {{ event.event_type.Event_Type_Name if event.event_type else "N/A" }}</li>
    <li><strong>Department:</strong> {{ event.department.Name if event.department else "N/A" }}</li>
    <li><strong>Date:</strong> {{ event.Date.strftime('%Y-%m-%d %H:%M') if event.Date else "N/A" }}</li>
    <li><strong>Event Manager:</strong> 
        {% if event.event_manager %}
            {{ event.event_manager.Username }}
        {% else %}
            N/A
        {% endif %}
    </li>
    <li><strong>Finance Manager:</strong> 
        {% if event.finance_manager %}
            {{ event.finance_manager.Username }}
        {% else %}
            N/A
        {% endif %}
    </li>
</ul>

<!-- Display sub-events if available -->
{% if sub_events %}
    <h3>Sub-Events</h3>
    {% for sub_event in sub_events %}
            {{ sub_event }}
    {% endfor %}
    

{% else %}
    <p>No sub-events available for this event.</p>
{% endif %}

{% endblock %}
