{% extends 'base.html' %} {% block title %}Admin Dashboard{% endblock %} {%
block extra_css %}
<link rel="stylesheet" href="{{url_for('static', filename='css/common.css')}}">
{% endblock %} 

{% block header %}
<header class="p-3 mb-3 border-bottom" style="background-color: #66b775;">
  <div class="d-flex align-items-center justify-content-between w-100">
    <!-- FinSight Logo and Name aligned left -->
    <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 link-body-emphasis text-decoration-none">
      <img src="{{ url_for('static', filename='images/favicon.jpg') }}" alt="FinSight" width="40" height="32" class="me-2">
      <span class="fs-4" style="font-weight: bold; color: #AFD46E;">FinSight</span>
    </a>

    <!-- Navigation links centered -->
    <ul class="nav mb-2 justify-content-center mb-md-0 flex-grow-1">
      <li><a href="#Authentication" class="nav-link px-2 link-secondary">Dashboard</a></li>
      <li><a href="#Events" class="nav-link px-2 link-body-emphasis">Events</a></li>
      <li><a href="#Users table" class="nav-link px-2 link-body-emphasis">Users</a></li>
    </ul>

    <!-- User dropdown aligned right -->
    <div class="dropdown text-end">
      <a href="#" class="d-block link-body-emphasis text-decoration-none dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
        <img src="https://github.com/mdo.png" alt="mdo" width="32" height="32" class="rounded-circle">
      </a>
      <ul class="dropdown-menu text-small">
        <li><a class="dropdown-item" href="#">Settings</a></li>
        <li><a class="dropdown-item" href="#">Profile</a></li>
        <li><hr class="dropdown-divider"></li>
        <li><a class="dropdown-item" href="#">Sign out</a></li>
      </ul>
    </div>
  </div>
</header>

{% endblock %}


{% block content %}
<section id="Authentication">
  {% include '/components/userauthcard.html' %}
</section>

<section id="Events">{% include '/components/eventcard.html' %}</section>

<section id="Users table">
  <div>
    <div class="header-content">
      <h2>User Table</h2>
      <div class="header-button">
        <button>New User</button>
      </div>
    </div>
    <div class="container mt-5 table-responsive">
      <table
        class="table table-striped table-success table-bordered border-dark align-middle rounded-3"
      >
        <thead class="table-dark">
          <tr>
            {% for key in users[0].keys() %}
            <th class="text-center">{{ key | title }}</th>
            {% endfor %}
            <th class="text-center">Actions</th>
          </tr>
        </thead>

        <tbody>
          {% for user in users %}
          <tr>
            {% for key in user.keys() %}
            <td class="table-success">{{ user[key] }}</td>
            {% endfor %}
            <td class="text-center">
              <div class="d-flex justify-content-center">
                <button class="btn btn-warning btn-sm me-1">Edit</button>
                <button class="btn btn-danger btn-sm me-1">Delete</button>
                <button class="btn btn-success btn-sm">Authorize</button>
              </div>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</section>
{% endblock %}
