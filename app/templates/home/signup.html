<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sign Up</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/signup.css') }}">
</head>
<body>
  <div class="container">
    <div class="inner-container">
      <div class="form-container">
        <h2>Sign Up</h2>
        {% if error_messages.get("general") %}
          <p style="color: red;">{{ error_messages["general"] }}</p>
        {% endif %}
        <form id="signup-form" method="POST">
          <label for="username">Username</label>
          <input type="text" id="username" name="username" placeholder="Enter your username" value="{{ request.form.get('username') }}" required />
          {% if error_messages.get('username') %}
            <span class="error" style="color: red;">{{ error_messages['username'] }}</span>
          {% endif %}

          <label for="email">Email</label>
          <input type="text" id="email" name="email" placeholder="Enter your email" value="{{ request.form.get('email') }}" required />
          {% if error_messages.get('email') %}
            <span class="error" style="color: red;">{{ error_messages['email'] }}</span>
          {% endif %}

          <label for="department">Department</label>
          <select id="department" name="department" required>
            <option value="">Select Department</option>
            {% for dept in departments %}
              <option value="{{ dept.Dept_ID }}" {% if dept.Dept_ID == request.form.get('department') %}selected{% endif %}>{{ dept.Name }}</option>
            {% endfor %}
          </select>
          {% if error_messages.get('department') %}
            <span class="error" style="color: red;">{{ error_messages['department'] }}</span>
          {% endif %}

          <label for="password">Password</label>
          <input type="password" id="password" name="password" placeholder="Enter your password" required />
          {% if error_messages.get('password') %}
            <span class="error" style="color: red;">{{ error_messages['password'] }}</span>
          {% endif %}

          <label for="confirmPassword">Confirm Password</label>
          <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Re-enter your password" required />
          {% if error_messages.get('confirmPassword') %}
            <span class="error" style="color: red;">{{ error_messages['confirmPassword'] }}</span>
          {% endif %}

          <label for="role">Role</label>
          <select id="role" name="role" required>
            <option value="">Select Role</option>
            {% for role in roles %}
              <option value="{{ role.Role_ID }}" {% if role.Role_ID == request.form.get('role') %}selected{% endif %}>{{ role.Role_Name }}</option>
            {% endfor %}
          </select>
          {% if error_messages.get('role') %}
            <span class="error" style="color: red;">{{ error_messages['role'] }}</span>
          {% endif %}

          <button type="submit">Sign Up</button>
        </form>
      </div>
      <div class="image-container">
        <img src="{{ url_for('static', filename='images/signupillustration.jpg') }}" alt="Signup Illustration" />
      </div>
    </div>
  </div>
</body>
</html>
