<link rel="stylesheet" href="{{ url_for('static', filename='css/eventcard.css') }}">

<div>
  <div class="cardscontainer">
    {% for item in events %}
    <div class="eventcard">
      <div class="topbox">
        <h3 class="cardheadingbox">
          <span class="cardheading">{{ item.event_name }}</span>
        </h3>
        <ul class="cardlist">
          <li class="cardlistitem"><span class="cardlistitemtext"><strong>Status:</strong> {{ item.status }}</span></li>
          <li class="cardlistitem"><span class="cardlistitemtext"><strong>Type:</strong> {{ item.type }}</span></li>
          <li class="cardlistitem"><span class="cardlistitemtext"><strong>Department:</strong> {{ item.department }}</span></li>
          <li class="cardlistitem"><span class="cardlistitemtext"><strong>Event Manager:</strong> {{ item.event_manager }}</span></li>
        </ul>
      </div>
      <div>
        {% if request.endpoint.startswith('admin') %}
          <a href="{{ url_for('admin.event_details', event_id=item.id if 'sub_event' not in item.__class__.__name__.lower() else item.parent_event_id) }}" class="cardbutton">
            <span class="cardbuttontext">View Event</span>
          </a>
        {% elif request.endpoint.startswith('event_manager') %}
          <a href="{{ url_for('event_manager.event_details', event_id=item.id if 'sub_event' not in item.__class__.__name__.lower() else item.parent_event_id) }}" class="cardbutton">
            <span class="cardbuttontext">View Event</span>
          </a>
        {% elif request.endpoint.startswith('finance_manager') %}
          <a href="{{ url_for('finance_manager.event_details', event_id=item.id if 'sub_event' not in item.__class__.__name__.lower() else item.parent_event_id) }}" class="cardbutton">
            <span class="cardbuttontext">View Event</span>
          </a>
        {% endif %}
      </div>
    </div>
    {% endfor %}
  </div>
</div>
